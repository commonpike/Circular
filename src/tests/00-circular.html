<html>
	<head>
		<script src="../../vendor/node_modules/jquery/dist/jquery.min.js"></script>
		<script src="../../vendor/node_modules/esprima/esprima.js"></script>
		<script src="../../vendor/node_modules/observe-js/src/observe.js"></script>

		<script src="../js/core/circular.core.00.js"></script>
		<script src="../js/core/circular.core.01.log.js"></script>
		<script src="../js/core/circular.core.02.debug.js"></script>
		<script src="../js/core/circular.core.03.context.js"></script>
		<script src="../js/core/circular.core.04.root.js"></script>
		<script src="../js/core/circular.core.05.content.js"></script>
		<script src="../js/core/circular.core.06.parser.js"></script>
		<script src="../js/core/circular.core.07.registry.js"></script>
		<script src="../js/core/circular.core.08.engine.js"></script>
		<script src="../js/core/circular.core.09.watchdog.js"></script>
		
		<script src="../js/base/circular.base.hide.js"></script>
		
		<script>
		
			var Model = {
				currentpage	: null,
				menu	: [
						{ 
							title	: 'Hello',
							link	: 'hello'
						},
						{
							title	: 'Goodbye',
							link	: 'goodbye'
						}
				], 
				pages	: {
					hello 		: {
						title : 'Hello World',
						content	: 'Hello Good World',
					},
					goodbye 		: {
						title 	: 'Goodbye World',
						content	: 'Goodbye cruel world',
						url			: 'goodbye.html'
					}
				}
				
			}
			
			var Control = {
				goto	: function(page) {
					Model.currentpage=Model.pages[page];
				}
			}
			
			Control.goto('hello');
			
			Circular.init({
				watchdogtimeout:50
			});
			
		</script>
	</head>
	<body cc-context="{{Model.currentpage}}">
	
		<ul>
			<li cc-loop="{{Model.menu}}">
				<a onclick="Control.goto('#link')">{{#title}}</a> 
				<span cc-if="{{!@loop.last}}">;</span>
			</li>
		</ul>
		
		<h1 alt="{{#title}}">{{#title.toUpperCase()}}</h1>
		
		<p class="content {{Model.currentpage==Model.pages.home?'home':'other'}}">{{#content}}</p>
		
		<p cc-hide="{{!#url}}" cc-include="{{#url}}">Loading..</p>
		
		{{@registry.counter}}:{{@registry.counter}}
		
		<script>//((@log.log(@context.current)))</script>
		
	</body>
</html>